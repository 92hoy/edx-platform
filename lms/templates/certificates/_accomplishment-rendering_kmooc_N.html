<%! from django.utils.translation import ugettext as _ %>
<%namespace name='static' file='../static_content.html'/>
<%
accomplishment_course_title =  accomplishment_copy_course_name
if certificate_data and certificate_data.get('course_title', ''):
    accomplishment_course_title =  certificate_data.get('course_title', '')
course_mode_class = course_mode if course_mode else ''
if accomplishment_course_title.find('(') == -1 :
    accomplishment_course_title = accomplishment_course_title + '(' + accomplishment_course_title
accomplishment_course_title = accomplishment_course_title.replace(')','').split('(')
%>

<style>
body {
    width: 100%!important;
    height: 100%!important;
    margin: 0!important;
    padding: 0!important;
    background-color: #ddd!important;
	font-family:'malgun gothic', 맑은 고딕 !important;
}

h1, h2, h3, h4, h5, h6, .hd-1, .hd-2, .accomplishment-rendering .accomplishment-statement-lead, .hd-3, .hd-4, .hd-5, .hd-6{
    line-height: inherit !important;
}
h1, h2, h3, h4, h5 {
    font-weight: 800!important;
}
* {
    box-sizing: border-box!important;
    -moz-box-sizing: border-box!important;
}

ul{
    border-left: 3px solid #333!important;
    padding-left: 15px!important;
    font-size:14px!important;
}
ul li{
    list-style:none!important;
}

.paper {
    width: 230mm;
    min-height: 297mm;
    padding:10mm!important;
    margin: 10mm auto!important;
    background: #fff!important;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1)!important;
	position:relative!important;
}
ul, .list-bulleted{
    margin-left: 0px !important;
}

.content {
    padding: 25px!important;
    border: 4px solid #6c6f73!important;
    height: 100%!important;
    width: 100%!important;
	position:relative!important;
}

@page {
    size: A4!important;
    margin: 0!important;
}
@media print {
    html, body {
        width: 100%!important;
        height: 100%!important;
        background: #fff!important;
    }
    .page {
        margin: 0;
        border: initial;
        border-radius: initial;
        width: initial;
        min-height: initial;
        box-shadow: initial;
        background: initial;
        page-break-after: always;
    }

}

.ribbon{
	display: inline-block!important;
    position: absolute!important;
    right: 110px!important;
    z-index: 10!important;
    top: 0px!important;
}

h5{margin:0!important;}

.t-center{
    display:inline-block!important;
    margin-left: 45px!important;
    width:130px!important;
	float: right!important;
}
.t-sign{
    margin-bottom: 5px;
    padding-bottom: 5px;
    border-bottom: 1px solid #333;
}
.t-center:first-child{
    margin-right:35px;
}
.t-center h5{
    text-align:center!important;
    font-size:11px!important;
}

.ce-bg{
	background:url(${static_url}/static/images/bg.png) no-repeat!important;
	width: 643px!important;
    height: 232px!important;
    display: inline-block!important;
    position: absolute!important;
    top: 393px!important;
    left: 68px!important;
}

.ce-t-gray{
    color:#959595!important;
    font-size:30px!important;
}

.content h1 {
    font-size:60px!important;
    margin-bottom: 50px!important;
    margin-top: 40px!important;
}
.content h2 {
    font-size:20px!important;
}
.ce-txt-second {
    margin-top: 0px!important;
    font-size: 20px!important;
}

.ce-center-txt1{
    text-align: center!important;
    margin: 0 auto!important;
    margin-bottom: 20px!important;
}
.ce-center-txt2{
    text-align:center!important;
    margin-bottom: 20px!important;
}

.sign-area{
    display:inline-block!important;
	width:100%!important;
}
.sign-area-depth1, .sign-area-depth2{
    display:block!important;
    height:80px!important;
    width: 100%!important;
}
.sign-area-depth2{
    margin-bottom: 10px;
}
.sign-none{
    display:inline-block!important;
    text-indent:-9999px!important;
    overflow:hidden!important;
}

/* logo */
.ce-logo-area{
    display:inline-block!important;
    width:100%!important;
}
.ce-logo1{
    float:left!important;
    font-size: 25px!important;
}
.ce-logo2{
    float:right!important;
    margin-top: 21px!important;
}
#k_box1{
    visibility: hidden;
    margin-bottom: 66px;
}
#e_box1{
    visibility: hidden;
    margin-bottom: 66px;
}
.t-sign {
    height: 26px!important;
    width: 130px!important;
}
.ce-logo1 {
    height: 35px!important;
    width: 200px!important;
    margin-top: 20px!important;
}
.check_img {
    height: 20px;
    width: 14px;
}
</style>

<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<main id="printArea_K" class="accomplishment accomplishment-main"
      style="">
    <body>

    <div>
        <div class="paper">
            <div class="ce-bg"></div>

            <div class="ribbon">
                <img src="${static_url}/static/images/ribbon.png"/>
            </div>

            <div class="content">

                <h5>발급번호 : ${certificate_id_number}</h5>
                <h5>출력일시 : ${created_date}</h5>

                <h1>이 수 증</h1>

                <h5 class="ce-t-gray">성명</h5>
                % if nice_check_flag == 0:
                <h4 class="ce-txt-second">${accomplishment_copy_name}</h4>
                %else:
                <h4 class="ce-txt-second">${user_name} ( <img class="check_img" src="/static/images/correct-icon.png"> 실명인증됨)</h4>
                %endif

                <h5 class="ce-t-gray">강좌명</h5>
                <h4 class="ce-txt-second">${accomplishment_course_title[0]}</h4>
                <blockquote>
                    <ul>
                        <li>강 좌 번 호 : (${course_id})</li>
                        <li>운 영 기 간 : ${start_date} ~ ${end_date}</li>
                        <li id="k_box2" >총 동영상 재생시간 : ${Play_h}시간 ${Play_m}분</li>
                        <li id="k_box3" >총 학습권장시간 : ${Learning_h}시간 ${Learning_m}분</li>
                    </ul>
                    <h6>※ 위 정보는 강좌 정보로, 이수자의 실제 학습 정보와는 상이할 수 있습니다.</h6>
                </blockquote>
                <div id="k_box1" style="">
                <h5 class="ce-t-gray">성적</h5>
                <h4 class="ce-txt-second">${grade}</h4>
                </div>
                <h2 class="ce-center-txt1">위 과정을 성실히 이수하여<br> 이 증서를 수여 합니다.</h2>
                <h5 class="ce-center-txt2">${certificate_date_issued2}</h5>

                <div class="sign-none" style="display:none;">사인이 없을때</div>

                <div class="sign-area">
                    % if certificate_data:
                    <div class="sign-area-depth2">
                            <% cnt = 0 %>
                            % for i in range(0, 8 - len(certificate_data.get('signatories', []))):
                                <div class="t-center">
                                    <h5></h5>
                                    <h5></h5>
                                    <h5></h5>
                                    <h5></h5>
                                </div>
                                <% cnt = cnt + 1%>
                                %if cnt == 4:
                                    </div>
                                    <div class="sign-area-depth1">
                                    % for signatory in certificate_data.get('signatories', []):
                                    <%
                                    teacher = signatory['name']
                                    if teacher.find('(') == -1 :
                                        teacher = teacher +'('+ teacher
                                    teacher = teacher.split('(')
                                    title_k = signatory['title'].split('(')

                                    organization_k = signatory['organization']
                                    if organization_k.find('(') == -1 :
                                        organization_k = organization_k +'('+ organization_k
                                    organization_k = organization_k.split('(')
                                    %>
                                    <div class="t-center">
                                        <img class="t-sign" src="${static_url}${signatory['signature_image_path']}" alt="">
                                        <h5>${teacher[0]} ${title_k[0]}</h5>
                                        <h5>${organization_k[0]}</h5>
                                        <h5>${classfy_k}</h5>
                                    </div>
                                    % endfor
                                %endif
                            %endfor
                        </div>
                    % endif
                </div>
                <!-- 로고 -->
                <div class="ce-logo-area">
                    <img class="ce-logo1" src="${static_url}/static/images/univ/logo01_${logo_index}.png" alt="${org_name_k}">
                    <div class="ce-logo2"><img src="${static_url}/static/images/logo2.png" alt="국가평생교육진흥원"></div>
                </div>
            </div>
        </div>
    </div>
    </body>
</main>

<%! from django.utils.translation import ugettext as _ %>
<%namespace name='static' file='../static_content.html'/>


## <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>


<main id="printArea_E" class="accomplishment accomplishment-main" style="display: none">
    <body>

    <div>
        <div class="paper">
            <div class="ce-bg"></div>

            <div class="ribbon">
                <img src="${static_url}/static/images/e_ribbon.png"/>
            </div>

            <div class="content">

                <h5>Certification Number : ${certificate_id_number}</h5>
                <h5>Print date and time : ${created_date}</h5>

                <h1>CRETIFICATE</h1>

                <h5 class="ce-t-gray">NAME</h5>

                % if nice_check_flag == 0:
                <h4 class="ce-txt-second"><p id="e_name_text">${accomplishment_copy_name}</p></h4>
                %else:
                <h4 class="ce-txt-second"><p id="e_name_text">${user_name} ( <img class="check_img" src="/static/images/correct-icon.png"> verified real-name)</p></h4>
                %endif

                <h5 class="ce-t-gray">COURSE NAME</h5>
                <h4 class="ce-txt-second">${accomplishment_course_title[1]}</h4>
                <blockquote>
                    <ul>
                        <li>Course number : (${course_id})</li>
                        <li>Course dates : ${start_date} ~ ${end_date}</li>
                        <li id="e_box2">Total video duration : ${Play_h}hour ${Play_m}minute</li>
                        <li id="e_box3">Recommended learning time : ${Learning_h}hour ${Learning_m}minute</li>
                    </ul>
                    <h6>※ It may be different from the actual learning information of the applicant.</h6>
                </blockquote>
                <div id="e_box1" style="visibility: hidden; margin-bottom: 66px">
                <h5 class="ce-t-gray">SCORE</h5>
                <h4 class="ce-txt-second">${grade}</h4>
                </div>
                <h2 class="ce-center-txt1">This certificate will be awarded<br>by completing the above course.</h2>
                <h5 class="ce-center-txt2">${certificate_date_issued}</h5>

                <div class="sign-none" style="display:none;">사인이 없을때</div>

                <div class="sign-area">
                    % if certificate_data:
                    <div class="sign-area-depth2">
                            <% cnt = 0 %>
                            % for i in range(0, 8 - len(certificate_data.get('signatories', []))):
                                <div class="t-center">
                                    <h5></h5>
                                    <h5></h5>
                                    <h5></h5>
                                    <h5></h5>
                                </div>
                                <% cnt = cnt + 1%>
                                %if cnt == 4:
                                    </div>
                                    <div class="sign-area-depth1">
                                    % for signatory in certificate_data.get('signatories', []):
                                    <%
                                    teacher = signatory['name']
                                    if teacher.find('(') == -1 :
                                        teacher = teacher +'('+ teacher
                                    teacher = teacher.split('(')
                                    title_k = signatory['title'].split('(')
                                    organization_k = signatory['organization']
                                    if organization_k.find('(') == -1 :
                                        organization_k = organization_k +'('+ organization_k
                                    organization_k = organization_k.split('(')
                                    %>
                                    <div class="t-center">
                                        <img class="t-sign" src="${static_url}${signatory['signature_image_path']}" alt="">
                                        <h5>${teacher[1].replace(')','')}</h5>
                                        <h5>${organization_k[1].replace(')','')}</h5>
                                        <h5>${classfy_e}</h5>
                                    </div>
                                    %endfor
                                %endif
                        % endfor
                        </div>
                    % endif
                </div>
                <!— 로고 —>
                <div class="ce-logo-area">
                    <img class="ce-logo1" src="${static_url}/static/images/univ_e/logo01_${logo_index}_e.png" alt="${org_name_e}">
                    <div class="ce-logo2"><img src="${static_url}/static/images/e_logo2.png" alt="NILE"></div>
                </div>
            </div>
        </div>
    </div>
    </body>
</main>
<script>
    $("img").error(function () {
        var alt_index = $(this).attr("alt")
        var class_index = $(this).attr("class")
        $(this).replaceWith("<b><p class="+class_index+">" + alt_index + "</p></b>");
    });
    $("img").error(function () {
        var alt_index = $(this).attr("alt")
        var class_index = $(this).attr("class")
        $(this).replaceWith("<b><p class="+class_index+">" + alt_index + "</p></b>");
    });
</script>